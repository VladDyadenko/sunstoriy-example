"use strict";(self.webpackChunksunstoriy_example=self.webpackChunksunstoriy_example||[]).push([[966],{1966:(n,e,t)=>{t.r(e),t.d(e,{default:()=>en});var a,i,r,o,l,s,d,c,h,p,x,m,u=t(2506),g=t(2791),f=t(8307),b=t(9434),v=t(7689),w=t(168),j=t(8470);const y=(0,j.ZP)(u.l0)(a||(a=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 25px 15px 40px 15px;\n  width: 375px;\n\n  @media (min-width: 768px) {\n    width: 768px;\n  }\n  @media (min-width: 1280px) {\n    width: 1280px;\n  }\n  @media (min-width: 1440px) {\n    width: 1440px;\n  }\n"]))),Z=j.ZP.div(i||(i=(0,w.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n  margin: 20px 0;\n\n  @media (min-width: 768px) {\n    gap: 30px;\n  }\n"]))),P=j.ZP.p(r||(r=(0,w.Z)(["\n  color: red;\n"]))),k=(0,j.ZP)(u.gN)(o||(o=(0,w.Z)(["\n  width: 100%;\n  height: 40px;\n  max-width: 600px;\n\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),S=j.ZP.div(l||(l=(0,w.Z)(["\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: space-between;\n  width: 100%;\n  gap: 20px;\n"]))),_=j.ZP.button(s||(s=(0,w.Z)(["\n  border-radius: 4px;\n  margin: 0 auto;\n  width: 200px;\n  background-color: var(--bg-main-color);\n  color: var(--header-main-color);\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 10px 10px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 18px;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out,\n    border-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: var(--main-green);\n    border-color: var(--header-main-color);\n  }\n"]))),R=((0,j.ZP)(u.gN)(d||(d=(0,w.Z)(["\n  height: 40px;\n  max-width: 300px;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),j.ZP.div(c||(c=(0,w.Z)(["\n  height: 40px;\n  max-width: 100px;\n  padding: 5px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n  margin-left: 10px;\n  @media (min-width: 768px) {\n    margin-left: 0;\n  }\n"])))),F=j.ZP.div(h||(h=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  width: 100%;\n  max-width: 600px;\n"]))),z=j.ZP.span(p||(p=(0,w.Z)(["\n  display: none;\n  margin-left: 25px;\n  margin-right: 5px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 18px;\n  color: #2a2a2a;\n\n  @media (min-width: 768px) {\n    display: block;\n  }\n"]))),D=(0,j.ZP)(u.gN)(x||(x=(0,w.Z)(["\n  width: 100%;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n  margin-bottom: 20px;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),N=j.ZP.label(m||(m=(0,w.Z)(["\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  color: var(--main-green);\n  margin-bottom: 5px;\n  margin-top: 15px;\n  text-align: center;\n\n  @media (min-width: 768px) {\n    text-align: start;\n  }\n"])));var C,I,V;const O=(0,j.ZP)(u.gN)(C||(C=(0,w.Z)(["\n  height: 40px;\n  width: 100%;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n\n  @media (min-width: 768px) {\n    max-width: 285px;\n    flex: 1;\n  }\n"]))),Y=j.ZP.label(I||(I=(0,w.Z)(["\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  color: var(--main-green);\n\n  @media (min-width: 768px) {\n    width: 110px;\n  }\n"]))),E=j.ZP.div(V||(V=(0,w.Z)(["\n  padding: 5px 0;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: start;\n  gap: 20px;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    padding: 15px 0;\n    gap: 30px;\n  }\n"])));var U=t(184);const L=function(n){let{title:e,touched:t,errors:a,inputName:i,inputPhone:r}=n;return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(E,{children:[(0,U.jsxs)(Y,{children:[e," \u0434\u0438\u0442\u0438\u043d\u0438:"]}),(0,U.jsxs)("div",{children:[(0,U.jsx)(O,{name:i,type:"text",placeholder:"\u0406\u043c'\u044f"}),t[i]&&a[i]&&(0,U.jsx)(P,{children:a[i]})]}),(0,U.jsxs)("div",{children:[(0,U.jsx)(O,{name:r,type:"tel",placeholder:"+380(__)___ __ __"}),t[r]&&a[r]&&(0,U.jsx)(P,{children:a[r]})]})]})})};var M=t(8007);const B={name:"",surname:"",birthDate:"",age:"",childImage:"",mather:"",matherPhone:"",father:"",fatherPhone:"",about:"",sensornaya:"",logoped:"",correction:"",tutor:"",rehabilitation:"",childFiles:""},H=M.Ry().shape({name:M.Z_().required("\u0406\u043c'\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!").min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),surname:M.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),mather:M.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),matherPhone:M.Z_(),father:M.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),fatherPhone:M.Z_()});var q=t(4494),A=t(7438),J=t(2438),Q=t(2669),T=t(7199),$=t(7892),G=t.n($);const K=n=>{let{setFieldValue:e,valueBirthDate:t}=n;const[a,i]=(0,g.useState)(G()());return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(Q.default,{size:"middle",locale:T.Z,format:"DD/MM/YYYY",value:t?G()(t):G()(a),onChange:(n,t)=>{i(null===n||void 0===n?void 0:n.valueOf()),e("birthDate",null===n||void 0===n?void 0:n.valueOf());const a=G()(),r=G()(null===n||void 0===n?void 0:n.valueOf()),o=a.diff(r,"year");e("age",o)}})})};const W=function(n){let{child:e}=n;const[t,a]=(0,g.useState)(B),[i,r]=(0,g.useState)(""),[o,l]=(0,g.useState)(!0),s=(0,v.TH)(),d=(0,b.v9)(J.t3),c=new URLSearchParams(s.search).get("source");(0,g.useEffect)((()=>{"buttonViewing"===c&&l(!1)}),[c]),console.log("source",c);const h=(0,v.s0)(),p=(0,b.I0)();return(0,g.useEffect)((()=>{if(e){const n={name:e.name?e.name:"",surname:e.surname?e.surname:"",birthDate:e.birthDate?e.birthDate:"",age:e.age?e.age:"",childImage:e.childImage?e.childImage:"",mather:e.mather?e.mather:"",matherPhone:e.matherPhone?e.matherPhone:"",father:e.father?e.father:"",fatherPhone:e.fatherPhone?e.fatherPhone:"",about:e.about?e.about:"",sensornaya:e.sensornaya?e.sensornaya:"",logoped:e.logoped?e.logoped:"",correction:e.correction?e.correction:"",tutor:e.tutor?e.tutor:"",reabilitation:e.reabilitation?e.reabilitation:"",childFiles:e.childFiles?e.childFiles:""};a(n),r(n.childImage)}}),[e]),(0,U.jsx)(u.J9,{enableReinitialize:!0,initialValues:t,validationSchema:H,onSubmit:n=>{if(o)if(e){const t={id:e._id,values:n};p((0,q.QH)(t)).then((()=>{h("/children")}))}else p((0,q.U_)(n)).then((()=>{h("/lesson"===c?-1:"/children")}));else h(-1)},children:n=>{let{errors:e,touched:t,values:a,setFieldValue:r}=n;return(0,U.jsxs)(y,{children:[(0,U.jsxs)(Z,{children:[(0,U.jsx)(A.Z,{avatar:i,fileName:"childImage",setFieldValue:r}),(0,U.jsxs)(S,{children:[(0,U.jsx)(k,{name:"name",type:"text",placeholder:"\u0406\u043c'\u044f"}),t.name&&e.name&&(0,U.jsx)(P,{children:e.name}),(0,U.jsx)(k,{name:"surname",type:"text",placeholder:"\u0424\u0430\u043c\u0456\u043b\u0456\u044f"}),e.surname&&(0,U.jsx)(P,{children:e.surname}),(0,U.jsxs)(F,{children:[(0,U.jsx)(K,{valueBirthDate:a.birthDate,setFieldValue:r}),(0,U.jsx)(z,{children:"\u0420\u043e\u043a\u0456\u0432:"}),(0,U.jsx)(R,{children:a.age})]})]})]}),(0,U.jsx)(L,{title:"\u041c\u0430\u043c\u0430",inputName:"mather",inputPhone:"matherPhone",touched:t,errors:e}),(0,U.jsx)(L,{title:"\u0411\u0430\u0442\u044c\u043a\u043e",inputName:"father",inputPhone:"fatherPhone",touched:t,errors:e}),(0,U.jsx)(N,{children:"\u0417\u0430\u043f\u0438\u0442 \u0431\u0430\u0442\u044c\u043a\u0456\u0432:"}),(0,U.jsx)(D,{name:"about",component:"textarea",rows:6}),(0,U.jsx)(N,{children:"\u0421\u0435\u043d\u0441\u043e\u0440\u043d\u0430:"}),(0,U.jsx)(D,{name:"sensornaya",component:"textarea",rows:6}),(0,U.jsx)(N,{children:"\u041b\u043e\u0433\u043e\u043f\u0435\u0434:"}),(0,U.jsx)(D,{name:"logoped",component:"textarea",rows:6}),(0,U.jsx)(N,{children:"\u041a\u043e\u0440\u0435\u043a\u0446\u0456\u0439\u043d\u0438\u0439 \u043f\u0435\u0434\u0430\u0433\u043e\u0433:"}),(0,U.jsx)(D,{name:"correction",component:"textarea",rows:6}),(0,U.jsx)(N,{children:"\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e \u0448\u043a\u043e\u043b\u0438:"}),(0,U.jsx)(D,{name:"tutor",component:"textarea",rows:6}),(0,U.jsx)(N,{children:"\u0420\u0435\u0430\u0431\u0456\u043b\u0456\u0442\u043e\u043b\u043e\u0433:"}),(0,U.jsx)(D,{name:"reabilitation",component:"textarea",rows:6}),(0,U.jsx)(_,{type:"submit",children:"updateChild"===d||"addChild"===d?(0,U.jsx)(f.yk,{height:"21",width:"50",color:"#ffffff",wrapperStyle:{display:"flex",alignItems:"center",justifyContent:"center"},visible:!0,ariaLabel:"circles-with-bar-loading"}):o?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438":"\u041d\u0430\u0437\u0430\u0434"})]})}})};var X=t(7694),nn=t(5294);const en=function(){const{childId:n}=(0,v.UO)(),[e,t]=(0,g.useState)("");return(0,g.useEffect)((()=>{n&&async function(){try{const e=await(async n=>{try{const{data:e}=await nn.Z.get("/child/children/".concat(n));return e}catch(e){console.log(e.message)}})(n);if(!e)return;t(e)}catch(e){X.Notify.failure("Child not found")}}()}),[n]),(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(W,{child:e})})}},2438:(n,e,t)=>{t.d(e,{OD:()=>i,aM:()=>a,gr:()=>o,t3:()=>r});const a=n=>n.children.child,i=n=>n.children.pagination,r=n=>n.children.operetion,o=n=>n.children.marker},7438:(n,e,t)=>{t.d(e,{Z:()=>b});var a,i,r,o,l,s=t(2791),d=t(168),c=t(8470),h=t(9126);const p=c.ZP.div(a||(a=(0,d.Z)(["\n  width: 110px;\n  height: 110px;\n  background-color: #c0c0c0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n"]))),x=c.ZP.button(i||(i=(0,d.Z)(["\n  border-radius: 4px;\n  background-color: var(--main-dark-blue);\n  color: var(--header-main-color);\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 5px 10px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 13px;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out,\n    border-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: var(--main-green);\n    border-color: var(--header-main-color);\n  }\n"]))),m=c.ZP.div(r||(r=(0,d.Z)(["\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]))),u=c.ZP.img(o||(o=(0,d.Z)(["\n  display: block;\n  border-radius: 4px;\n"]))),g=(0,c.ZP)(h.sY$)(l||(l=(0,d.Z)(["\n  width: 30px;\n  height: 30px;\n  fill: #808080;\n"])));var f=t(184);const b=function(n){let{setFieldValue:e,avatar:t,fileName:a}=n;const i=(0,s.useRef)(null),[r,o]=(0,s.useState)(t);return(0,s.useEffect)((()=>{o(t)}),[t]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("input",{type:"file",hidden:!0,ref:i,onChange:n=>{const t=n.target.files[0];e("".concat(a),t);const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{o(i.result)}}}),(0,f.jsxs)(m,{children:[r?(0,f.jsx)(u,{src:r,alt:"preview",width:130,height:110}):(0,f.jsx)(p,{children:(0,f.jsx)(g,{})}),(0,f.jsx)(x,{type:"button",onClick:()=>{i.current.click()},children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e"})]})]})}}}]);
//# sourceMappingURL=966.a5770867.chunk.js.map